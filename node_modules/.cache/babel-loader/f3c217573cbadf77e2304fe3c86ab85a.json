{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Charu/Desktop/Project_Board-main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Charu/Desktop/Project_Board-main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Charu\\\\Desktop\\\\Project_Board-main\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect,useContext,useRef}from'react';import{useNavigate,NavLink}from'react-router-dom';import{Row,Col,Container,Fade,Button,ListGroup,Badge}from'react-bootstrap';import Offcanvas from'react-bootstrap/Offcanvas';import'../stylesheets/todos.css';import TodoForm from'./TodoForm';import{UserContext}from'../App';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SideNavbar=function SideNavbar(){var _useContext=useContext(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;var _useState=useState(),_useState2=_slicedToArray(_useState,2),fecthTasks=_useState2[0],setFecthTasks=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tasks=_useState4[0],setTasks=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),taskUpdate=_useState6[0],setTaskUpdate=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),show=_useState8[0],setShow=_useState8[1];var handleClose=function handleClose(){setShow(false);setTaskUpdate(null);};var handleShow=function handleShow(){return setShow(true);};var showTasks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('/showTasks',{method:'GET'});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;console.log(data);setTasks(data);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function showTasks(){return _ref.apply(this,arguments);};}();useEffect(function(){showTasks();},[fecthTasks]);var handleClick=function handleClick(e){var taskId=e.target.id;var findTask=tasks.find(function(clickedTask){return clickedTask._id===taskId;});var oldDate=new Date(findTask.date);var day=oldDate.getDate();var month=oldDate.getMonth()+1;var year=oldDate.getFullYear();if(month<10)month=\"0\"+month;if(day<10)day=\"0\"+day;var fullDate=year+\"-\"+month+\"-\"+day;findTask.date=fullDate;setTaskUpdate(findTask);// taskUpdate = findTask;\n// taskUpdate.current = findTask;\n// navigate(\"/updateForm\", {state : {findTask}})\n};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"navList\",onClick:handleShow,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-tasks\",children:\"\\xA0\"}),' ',\"To-Do List\"]}),/*#__PURE__*/_jsxs(Offcanvas,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Offcanvas.Header,{closeButton:true,className:\"todoOffCanvas\",children:/*#__PURE__*/_jsx(Offcanvas.Title,{children:\"To-Do-List\"})}),/*#__PURE__*/_jsxs(Offcanvas.Body,{className:\"todoOffCanvas\",children:[/*#__PURE__*/_jsx(TodoForm,{clickedTask:{taskUpdate:taskUpdate,setFecthTasks:setFecthTasks}}),/*#__PURE__*/_jsx(Container,{className:\"todosContainer\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(ListGroup,{as:\"ol\",variant:\"flush\",numbered:true,className:\"todosList\",children:tasks.map(function(tasks,index){return/*#__PURE__*/_jsxs(ListGroup.Item,{as:\"li\",className:\"d-flex justify-content-between align-items-start todosList\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"category\",className:\"ms-2 me-auto\",children:[/*#__PURE__*/_jsx(\"div\",{id:tasks._id,onClick:handleClick,className:\"fw-bold cursor-pointer\",children:tasks.task}),tasks.category]}),/*#__PURE__*/_jsxs(Badge,{id:\"date\",bg:\"primary\",pill:true,className:\"badgeList\",children:['Due Date: ',new Date(tasks.date).toLocaleDateString()]})]},index);})})})})})]})]})]});};export default SideNavbar;","map":{"version":3,"sources":["C:/Users/Charu/Desktop/Project_Board-main/frontend/src/components/Todos.js"],"names":["React","useState","useEffect","useContext","useRef","useNavigate","NavLink","Row","Col","Container","Fade","Button","ListGroup","Badge","Offcanvas","TodoForm","UserContext","SideNavbar","state","dispatch","fecthTasks","setFecthTasks","tasks","setTasks","taskUpdate","setTaskUpdate","show","setShow","handleClose","handleShow","showTasks","fetch","method","response","json","data","console","log","handleClick","e","taskId","target","id","findTask","find","clickedTask","_id","oldDate","Date","date","day","getDate","month","getMonth","year","getFullYear","fullDate","map","index","task","category","toLocaleDateString"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext, useRef } from 'react';\nimport { useNavigate, NavLink } from 'react-router-dom'\nimport { Row, Col, Container, Fade, Button, ListGroup, Badge } from 'react-bootstrap';\nimport Offcanvas from 'react-bootstrap/Offcanvas';\nimport '../stylesheets/todos.css'\nimport TodoForm from './TodoForm';\nimport { UserContext } from '../App'\n\nconst SideNavbar = () => {\n\n  const { state, dispatch } = useContext(UserContext);\n  const [fecthTasks, setFecthTasks] = useState();\n  const [tasks, setTasks] = useState([]);\n  const [taskUpdate, setTaskUpdate] = useState();\n  const [show, setShow] = useState(false);\n  const handleClose = () => {\n    setShow(false);\n    setTaskUpdate(null);\n  }\n  const handleShow = () => setShow(true);\n\n\n\n\n  const showTasks = async () => {\n    try {\n      const response = await fetch('/showTasks', {\n        method: 'GET',\n      });\n\n      const data = await response.json();\n      console.log(data)\n      setTasks(data);\n    } catch (error) {\n      console.log(error)\n    }\n\n  }\n\n  useEffect(() => {\n    showTasks();\n  }, [fecthTasks])\n\n\n  const handleClick = (e) => {\n\n    const taskId = e.target.id;\n\n    const findTask = tasks.find(clickedTask => clickedTask._id === taskId);\n\n    let oldDate = new Date(findTask.date)\n    let day = oldDate.getDate();\n    let month = oldDate.getMonth() + 1;\n    let year = oldDate.getFullYear();\n\n    if (month < 10) month = \"0\" + month;\n    if (day < 10) day = \"0\" + day;\n\n    let fullDate = year + \"-\" + month + \"-\" + day;\n\n    findTask.date = fullDate;\n\n    setTaskUpdate(findTask)\n    // taskUpdate = findTask;\n    // taskUpdate.current = findTask;\n    // navigate(\"/updateForm\", {state : {findTask}})\n\n  }\n\n  return (\n    <>\n      <ListGroup.Item className='navList' onClick={handleShow}>\n        <i className='fas fa-tasks'>&nbsp;</i>\n        {' '}\n        To-Do List\n      </ListGroup.Item>\n\n      <Offcanvas show={show} onHide={handleClose} >\n        <Offcanvas.Header closeButton className='todoOffCanvas'>\n          <Offcanvas.Title>To-Do-List</Offcanvas.Title>\n        </Offcanvas.Header>\n        <Offcanvas.Body className='todoOffCanvas'>\n          <TodoForm clickedTask={{ taskUpdate, setFecthTasks }} />\n          <Container className='todosContainer'>\n            <Row>\n              <Col>\n                <ListGroup as=\"ol\" variant=\"flush\" numbered className='todosList'>\n                  {tasks.map((tasks, index) =>\n                    <ListGroup.Item as=\"li\" key={index} className=\"d-flex justify-content-between align-items-start todosList\">\n                      <div id='category' className=\"ms-2 me-auto\">\n                        <div id={tasks._id} onClick={handleClick} className=\"fw-bold cursor-pointer\">\n                          {tasks.task}\n                        </div>\n\n                        {tasks.category}\n                      </div>\n                      <Badge id='date' bg=\"primary\" pill className='badgeList'>\n                        {'Due Date: '}{new Date(tasks.date).toLocaleDateString()}\n                      </Badge>\n                    </ListGroup.Item>\n                  )}\n                </ListGroup>\n              </Col>\n            </Row>\n          </Container>\n\n\n\n        </Offcanvas.Body>\n      </Offcanvas>\n\n    </>\n  )\n}\n\nexport default SideNavbar\n\n\n\n"]},"metadata":{},"sourceType":"module"}