{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Charu/Desktop/Project_Board-main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Charu/Desktop/Project_Board-main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Charu\\\\Desktop\\\\Project_Board-main\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useLayoutEffect,useEffect}from'react';import'../stylesheets/displayProjects.css';import{Row,Col,Container,Card,CardGroup,ProgressBar,Navbar,Nav,NavDropdown,Form,Image,Button,ListGroup,Offcanvas,InputGroup,Modal}from'react-bootstrap';import ViewProject from'./ViewProject';import UpdateProject from'./UpdateProject';import DeleteProject from'./DeleteProject';import Projects from'./Projects';import AssignPhases from'./AssignPhases';import ProjectNotification from'./ProjectNotification';import ProjectChat from'./ProjectChat';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DisplayProjects=function DisplayProjects(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),fullscreen=_useState2[0],setFullscreen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var handleShow=function handleShow(){setFullscreen(true);setShow(true);};var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),smShow=_useState6[0],setSmShow=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),smShowAssign=_useState8[0],setSmShowAssign=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),allfriends=_useState10[0],setAllfriends=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),projects=_useState12[0],setProjects=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),assignedProjects=_useState14[0],setAssignedProjects=_useState14[1];// const [projectId, setProjectId] = useState();\nvar _useState15=useState(),_useState16=_slicedToArray(_useState15,2),currentProject=_useState16[0],setCurrentProject=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),currentAssignedProject=_useState18[0],setCurrentAssignedProject=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),fecthTasks=_useState20[0],setFecthTasks=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),fecthAfterDelete=_useState22[0],setFecthAfterDelete=_useState22[1];var handleHideModal=function handleHideModal(){setShow(false);};var handleHideSelectionModal=function handleHideSelectionModal(){setCurrentProject(\"\");setSmShow(false);};var handleHideAssignModal=function handleHideAssignModal(){setCurrentAssignedProject(\"\");setSmShowAssign(false);};var getFriends=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('/getFriends',{method:'GET'});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;console.log(data);setAllfriends(data);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function getFriends(){return _ref.apply(this,arguments);};}();var showAssignedProjects=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch('/getAssignedProjects',{method:'GET'});case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:data=_context2.sent;console.log(data);setAssignedProjects(data);_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function showAssignedProjects(){return _ref2.apply(this,arguments);};}();var showProjects=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch('/getProjects',{method:'GET'});case 3:response=_context3.sent;_context3.next=6;return response.json();case 6:data=_context3.sent;console.log(data);setProjects(data);_context3.next=14;break;case 11:_context3.prev=11;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 14:case\"end\":return _context3.stop();}}},_callee3,null,[[0,11]]);}));return function showProjects(){return _ref3.apply(this,arguments);};}();useEffect(function(){setSmShow(false);setCurrentProject(\"\");getFriends();showProjects();showAssignedProjects();},[fecthTasks]);var clickedProject=function clickedProject(e){var selectedId=e.target.id;var findProject=projects.find(function(element){return element._id===selectedId;});setCurrentProject(findProject);// setProjectId(selectedId)\nsetSmShow(true);// props.setSelectedProject(selectedId)\n};var clickedAssignedProject=function clickedAssignedProject(e){var selectedId=e.target.id;var findProject=assignedProjects.find(function(element){return element._id===selectedId;});setCurrentAssignedProject(findProject);// setProjectId(selectedId)\nsetSmShowAssign(true);// props.setSelectedProject(selectedId)\n};var handleRefreshCompnent=function handleRefreshCompnent(){setCurrentProject(\"\");getFriends();showProjects();showAssignedProjects();};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"navList\",onClick:handleShow,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-project-diagram\",children:\"\\xA0\"}),' ',\"My Projects\"]}),/*#__PURE__*/_jsxs(Modal,{show:show,fullscreen:fullscreen,onHide:handleHideModal,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"modalHeader\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{className:\"justify-content-md-center\",children:[/*#__PURE__*/_jsxs(Col,{sm:true,lg:\"5\",children:[/*#__PURE__*/_jsx(Modal.Title,{children:\"Current Projects\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(Col,{sm:true,lg:\"6\",children:[/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Projects,{props:{setFecthTasks:setFecthTasks}})}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(Col,{sm:true,lg:\"1\",children:/*#__PURE__*/_jsx(Button,{className:\"refreshBtn2\",onClick:handleRefreshCompnent,children:/*#__PURE__*/_jsx(\"i\",{className:\"material-icons refreshIcon\",children:\"refresh\"})})})]})})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"modalBody\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Row,{className:\"justify-content-md-center\",children:[projects.map(function(project,index){return/*#__PURE__*/_jsxs(Col,{xs:true,lg:\"5\",children:[/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"projectListItem\",id:project._id,onClick:clickedProject,children:[/*#__PURE__*/_jsx(\"b\",{children:project.projectTitle}),/*#__PURE__*/_jsx(\"b\",{className:\"projectOwner\",children:\"My Project\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(ProgressBar,{animated:true,variant:\"info\",now:project.progressBar,label:\"\".concat(project.progressBar,\"%\")}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Due Date: \",project.dueDate.substring(0,10)]})]}),/*#__PURE__*/_jsx(\"br\",{})]},index);}),assignedProjects.map(function(project,index){return/*#__PURE__*/_jsxs(Col,{xs:true,lg:\"5\",children:[/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"projectListItem\",id:project._id,onClick:clickedAssignedProject,children:[/*#__PURE__*/_jsx(\"b\",{children:project.projectTitle}),/*#__PURE__*/_jsx(\"b\",{className:\"projectOwner\",children:\"Assigned Project\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(ProgressBar,{animated:true,variant:\"info\",now:project.progressBar,label:\"\".concat(project.progressBar,\"%\")}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Due Date: \",project.dueDate.substring(0,10)]})]}),/*#__PURE__*/_jsx(\"br\",{})]},index);})]})]})})]}),/*#__PURE__*/_jsxs(Modal,{size:\"sm\",show:smShow,onHide:handleHideSelectionModal,\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"modalHeader\",children:/*#__PURE__*/_jsx(Modal.Title,{id:\"example-modal-sizes-title-sm\",className:\"titleSelection\",children:\"Choose For Selected Project\"})}),/*#__PURE__*/_jsxs(Modal.Body,{className:\"modalBody\",children:[/*#__PURE__*/_jsx(ViewProject,{projectData:currentProject}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(UpdateProject,{projectData:{currentProject:currentProject,allfriends:allfriends,setFecthTasks:setFecthTasks}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(AssignPhases,{projectData:{currentProject:currentProject,allfriends:allfriends,setFecthTasks:setFecthTasks}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(ProjectNotification,{projectData:currentProject}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(ProjectChat,{projectData:currentProject}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(DeleteProject,{projectData:{currentProject:currentProject,setFecthTasks:setFecthTasks}}),/*#__PURE__*/_jsx(\"br\",{})]})]}),/*#__PURE__*/_jsxs(Modal,{size:\"sm\",show:smShowAssign,onHide:handleHideAssignModal,\"aria-labelledby\":\"example-modal-sizes-title-sm\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"modalHeader\",children:/*#__PURE__*/_jsx(Modal.Title,{id:\"example-modal-sizes-title-sm\",className:\"titleSelection\",children:\"Choose For Selected Project\"})}),/*#__PURE__*/_jsxs(Modal.Body,{className:\"modalBody\",children:[/*#__PURE__*/_jsx(ViewProject,{projectData:currentAssignedProject}),/*#__PURE__*/_jsx(\"br\",{})]})]})]});};export default DisplayProjects;","map":{"version":3,"sources":["C:/Users/Charu/Desktop/Project_Board-main/frontend/src/components/DisplayProjects.js"],"names":["React","useState","useLayoutEffect","useEffect","Row","Col","Container","Card","CardGroup","ProgressBar","Navbar","Nav","NavDropdown","Form","Image","Button","ListGroup","Offcanvas","InputGroup","Modal","ViewProject","UpdateProject","DeleteProject","Projects","AssignPhases","ProjectNotification","ProjectChat","DisplayProjects","props","fullscreen","setFullscreen","show","setShow","handleShow","smShow","setSmShow","smShowAssign","setSmShowAssign","allfriends","setAllfriends","projects","setProjects","assignedProjects","setAssignedProjects","currentProject","setCurrentProject","currentAssignedProject","setCurrentAssignedProject","fecthTasks","setFecthTasks","fecthAfterDelete","setFecthAfterDelete","handleHideModal","handleHideSelectionModal","handleHideAssignModal","getFriends","fetch","method","response","json","data","console","log","showAssignedProjects","showProjects","clickedProject","e","selectedId","target","id","findProject","find","element","_id","clickedAssignedProject","handleRefreshCompnent","map","project","index","projectTitle","progressBar","dueDate","substring"],"mappings":"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","sourcesContent":["import React, {useState, useLayoutEffect, useEffect} from 'react'\nimport '../stylesheets/displayProjects.css'\nimport { Row, Col, Container, Card, CardGroup, ProgressBar, Navbar, Nav, NavDropdown, Form, Image, Button, ListGroup, Offcanvas, InputGroup, Modal } from 'react-bootstrap';\nimport ViewProject from './ViewProject';\nimport UpdateProject from './UpdateProject';\nimport DeleteProject from './DeleteProject';\nimport Projects from './Projects';\nimport AssignPhases from './AssignPhases';\nimport ProjectNotification from './ProjectNotification';\nimport ProjectChat from './ProjectChat';\n\n\nconst DisplayProjects = (props) => {\n\n    const [fullscreen, setFullscreen] = useState(true);\n    const [show, setShow] = useState(false);\n    const handleShow = () => {setFullscreen(true); setShow(true);}\n    const [smShow, setSmShow] = useState(false);\n    const [smShowAssign, setSmShowAssign] = useState(false);\n    const [allfriends, setAllfriends] = useState([]);\n    const [projects, setProjects] = useState([]);\n    const [assignedProjects, setAssignedProjects] = useState([]);\n    // const [projectId, setProjectId] = useState();\n    const [currentProject, setCurrentProject] = useState();\n    const [currentAssignedProject, setCurrentAssignedProject] = useState();\n    const [fecthTasks, setFecthTasks] = useState();\n    const [fecthAfterDelete, setFecthAfterDelete] = useState();\n\n    const handleHideModal = () =>{\n        setShow(false);\n    }\n\n    const handleHideSelectionModal = () =>{\n        setCurrentProject(\"\")\n        setSmShow(false)\n    }\n\n    const handleHideAssignModal = () =>{\n        setCurrentAssignedProject(\"\")\n        setSmShowAssign(false)\n    }\n\n    const getFriends = async () =>{\n        try {\n            const response = await fetch('/getFriends', {\n                method: 'GET',\n            })\n\n            const data = await response.json();\n            console.log(data)\n            setAllfriends(data);\n\n        } catch (error) {\n            console.log(error)\n        }\n\n    }\n\n\n    const showAssignedProjects = async () =>{\n        try {\n          const response = await fetch('/getAssignedProjects', {\n            method: 'GET',\n        });\n    \n        const data = await response.json();\n        console.log(data)\n        setAssignedProjects(data)\n    \n        } catch (error) {\n          console.log(error)\n        }\n      \n    }\n\n\n\n    const showProjects = async () =>{\n        try {\n          const response = await fetch('/getProjects', {\n            method: 'GET',\n        });\n    \n        const data = await response.json();\n        console.log(data)\n        setProjects(data)\n    \n        } catch (error) {\n          console.log(error)\n        }\n      \n    }\n\n    useEffect(() =>{\n        setSmShow(false);\n        setCurrentProject(\"\");\n        getFriends();\n        showProjects();\n        showAssignedProjects();\n    },[fecthTasks])\n\n\n\n\n    const clickedProject = (e) =>{\n        let selectedId = e.target.id \n\n        let findProject = projects.find(element => element._id === selectedId);\n        setCurrentProject(findProject)\n        // setProjectId(selectedId)\n        setSmShow(true)\n        // props.setSelectedProject(selectedId)\n    }\n\n    const clickedAssignedProject = (e) =>{\n        let selectedId = e.target.id \n\n        let findProject = assignedProjects.find(element => element._id === selectedId);\n        setCurrentAssignedProject(findProject)\n        // setProjectId(selectedId)\n        setSmShowAssign(true) \n        // props.setSelectedProject(selectedId)\n    }\n\n\n    const handleRefreshCompnent = () =>{\n        setCurrentProject(\"\");\n        getFriends();\n        showProjects();\n        showAssignedProjects();\n    }\n\n\n  return (\n    <>\n \n        <ListGroup.Item className='navList' onClick={handleShow}>\n          <i className='fas fa-project-diagram'>&nbsp;</i>         \n          {' '}\n          My Projects\n        </ListGroup.Item>\n\n        <Modal show={show} fullscreen={fullscreen} onHide={handleHideModal}>\n            <Modal.Header closeButton className='modalHeader'>\n                <Container>\n                    <Row className=\"justify-content-md-center\">\n                        <Col sm lg=\"5\">\n                            <Modal.Title>Current Projects</Modal.Title>\n                            <br></br>\n                        </Col>\n                        <Col sm lg=\"6\">\n                            <Container><Projects props={{setFecthTasks}}/></Container>\n                            <br></br>\n                        </Col>\n                        <Col sm lg=\"1\">\n                            <Button className='refreshBtn2' onClick={handleRefreshCompnent}><i className=\"material-icons refreshIcon\">refresh</i></Button>\n                        </Col>\n                    </Row>\n                </Container>\n            </Modal.Header>\n            <Modal.Body className='modalBody'>       \n                <Container>\n                    {/* <Button className='refreshBtn2' onClick={handleRefreshCompnent}><i className=\"material-icons refreshIcon\">refresh</i></Button> */}\n                    <br></br>\n                    <Row className=\"justify-content-md-center\">\n                        {projects.map((project, index)=>\n                            <Col xs lg=\"5\" key={index}>\n                                <ListGroup.Item className='projectListItem' id={project._id} onClick={clickedProject}>\n                                    <b>{project.projectTitle}</b><b className='projectOwner'>My Project</b>\n                                    <br></br>\n                                    <br></br>\n                                    <ProgressBar animated variant=\"info\" now={project.progressBar} label={`${project.progressBar}%`} />\n                                    <br></br>\n                                    <p>Due Date: {project.dueDate.substring(0,10)}</p>\n                                </ListGroup.Item>\n                                <br></br>\n                            </Col>\n                        )}\n                        {assignedProjects.map((project, index)=>\n                            <Col xs lg=\"5\" key={index}>\n                                <ListGroup.Item className='projectListItem' id={project._id} onClick={clickedAssignedProject}>\n                                    <b>{project.projectTitle}</b><b className='projectOwner'>Assigned Project</b>\n                                    <br></br>\n                                    <br></br>\n                                    <ProgressBar animated variant=\"info\" now={project.progressBar} label={`${project.progressBar}%`}/>\n                                    <br></br>\n                                    <p>Due Date: {project.dueDate.substring(0,10)}</p>\n                                </ListGroup.Item>\n                                <br></br>\n                            </Col>\n                        )}\n                    </Row>\n                </Container>\n            </Modal.Body>\n        </Modal>\n\n\n\n\n        {/* Project Option Selection Modal */}\n\n\n        <Modal size=\"sm\" show={smShow} onHide={handleHideSelectionModal} aria-labelledby=\"example-modal-sizes-title-sm\" >\n            <Modal.Header closeButton className='modalHeader'>\n                <Modal.Title id=\"example-modal-sizes-title-sm\" className='titleSelection'>\n                    Choose For Selected Project\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body className='modalBody'>\n               \n                <ViewProject projectData={currentProject}/> \n\n                <br></br>\n\n                <UpdateProject projectData={{currentProject, allfriends, setFecthTasks}}/>\n                        \n                <br></br>\n\n                <AssignPhases projectData={{currentProject, allfriends, setFecthTasks}}/>\n                        \n                <br></br>\n\n                <ProjectNotification projectData={currentProject}/>\n                        \n                <br></br>\n\n                <ProjectChat projectData={currentProject}/>\n\n                <br></br>\n                \n                <DeleteProject projectData={{currentProject, setFecthTasks}} />\n                \n                <br></br>\n\n            </Modal.Body>\n        </Modal>\n\n\n\n\n\n        {/* Assigned Project Option Selection Modal */}\n\n\n        <Modal size=\"sm\" show={smShowAssign} onHide={handleHideAssignModal} aria-labelledby=\"example-modal-sizes-title-sm\" >\n            <Modal.Header closeButton className='modalHeader'>\n                <Modal.Title id=\"example-modal-sizes-title-sm\" className='titleSelection'>\n                    Choose For Selected Project\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body className='modalBody'>\n            \n                <ViewProject projectData={currentAssignedProject}/> \n\n                <br></br>\n\n            </Modal.Body>\n        </Modal>\n\n    </>\n  )\n}\n\nexport default DisplayProjects"]},"metadata":{},"sourceType":"module"}